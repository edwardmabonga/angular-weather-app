/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { DOCUMENT } from '@angular/common';
import { inject, InjectionToken } from '@angular/core';
import { fromEvent } from 'rxjs';
import { distinctUntilChanged, map, share, startWith } from 'rxjs/operators';
/** @type {?} */
export var PAGE_VISIBILITY = new InjectionToken('Shared Observable based on `document visibility changed`', {
    factory: function () {
        /** @type {?} */
        var documentRef = inject(DOCUMENT);
        return fromEvent(documentRef, 'visibilitychange').pipe(startWith(0), map(function () { return !documentRef.hidden; }), distinctUntilChanged(), share());
    },
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGFnZS12aXNpYmlsaXR5LmpzIiwic291cmNlUm9vdCI6Im5nOi8vQG5nLXdlYi1hcGlzL2NvbW1vbi8iLCJzb3VyY2VzIjpbInRva2Vucy9wYWdlLXZpc2liaWxpdHkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE9BQU8sRUFBQyxRQUFRLEVBQUMsTUFBTSxpQkFBaUIsQ0FBQztBQUN6QyxPQUFPLEVBQUMsTUFBTSxFQUFFLGNBQWMsRUFBQyxNQUFNLGVBQWUsQ0FBQztBQUNyRCxPQUFPLEVBQUMsU0FBUyxFQUFhLE1BQU0sTUFBTSxDQUFDO0FBQzNDLE9BQU8sRUFBQyxvQkFBb0IsRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBQyxNQUFNLGdCQUFnQixDQUFDOztBQUUzRSxNQUFNLEtBQU8sZUFBZSxHQUFHLElBQUksY0FBYyxDQUM3QywwREFBMEQsRUFDMUQ7SUFDSSxPQUFPLEVBQUU7O1lBQ0MsV0FBVyxHQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUM7UUFFcEMsT0FBTyxTQUFTLENBQUMsV0FBVyxFQUFFLGtCQUFrQixDQUFDLENBQUMsSUFBSSxDQUNsRCxTQUFTLENBQUMsQ0FBQyxDQUFDLEVBQ1osR0FBRyxDQUFDLGNBQU0sT0FBQSxDQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQW5CLENBQW1CLENBQUMsRUFDOUIsb0JBQW9CLEVBQUUsRUFDdEIsS0FBSyxFQUFFLENBQ1YsQ0FBQztJQUNOLENBQUM7Q0FDSixDQUNKIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtET0NVTUVOVH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcclxuaW1wb3J0IHtpbmplY3QsIEluamVjdGlvblRva2VufSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHtmcm9tRXZlbnQsIE9ic2VydmFibGV9IGZyb20gJ3J4anMnO1xyXG5pbXBvcnQge2Rpc3RpbmN0VW50aWxDaGFuZ2VkLCBtYXAsIHNoYXJlLCBzdGFydFdpdGh9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcclxuXHJcbmV4cG9ydCBjb25zdCBQQUdFX1ZJU0lCSUxJVFkgPSBuZXcgSW5qZWN0aW9uVG9rZW48T2JzZXJ2YWJsZTxib29sZWFuPj4oXHJcbiAgICAnU2hhcmVkIE9ic2VydmFibGUgYmFzZWQgb24gYGRvY3VtZW50IHZpc2liaWxpdHkgY2hhbmdlZGAnLFxyXG4gICAge1xyXG4gICAgICAgIGZhY3Rvcnk6ICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZG9jdW1lbnRSZWYgPSBpbmplY3QoRE9DVU1FTlQpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGZyb21FdmVudChkb2N1bWVudFJlZiwgJ3Zpc2liaWxpdHljaGFuZ2UnKS5waXBlKFxyXG4gICAgICAgICAgICAgICAgc3RhcnRXaXRoKDApLFxyXG4gICAgICAgICAgICAgICAgbWFwKCgpID0+ICFkb2N1bWVudFJlZi5oaWRkZW4pLFxyXG4gICAgICAgICAgICAgICAgZGlzdGluY3RVbnRpbENoYW5nZWQoKSxcclxuICAgICAgICAgICAgICAgIHNoYXJlKCksXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSxcclxuICAgIH0sXHJcbik7XHJcbiJdfQ==