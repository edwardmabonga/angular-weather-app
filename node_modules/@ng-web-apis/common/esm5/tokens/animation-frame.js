/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { inject, InjectionToken } from '@angular/core';
import { animationFrameScheduler, of } from 'rxjs';
import { map, repeat, share } from 'rxjs/operators';
import { PERFORMANCE } from './performance';
// interval has bug: https://github.com/ReactiveX/rxjs/issues/4972, scheduled only present in rxjs 6.5+
/** @type {?} */
export var ANIMATION_FRAME = new InjectionToken('Shared Observable based on `window.requestAnimationFrame`', {
    factory: function () {
        /** @type {?} */
        var performanceRef = inject(PERFORMANCE);
        return of(0, animationFrameScheduler).pipe(repeat(), map(function () { return performanceRef.now(); }), share());
    },
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5pbWF0aW9uLWZyYW1lLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQG5nLXdlYi1hcGlzL2NvbW1vbi8iLCJzb3VyY2VzIjpbInRva2Vucy9hbmltYXRpb24tZnJhbWUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE9BQU8sRUFBQyxNQUFNLEVBQUUsY0FBYyxFQUFDLE1BQU0sZUFBZSxDQUFDO0FBQ3JELE9BQU8sRUFBQyx1QkFBdUIsRUFBYyxFQUFFLEVBQUMsTUFBTSxNQUFNLENBQUM7QUFDN0QsT0FBTyxFQUFDLEdBQUcsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFDLE1BQU0sZ0JBQWdCLENBQUM7QUFDbEQsT0FBTyxFQUFDLFdBQVcsRUFBQyxNQUFNLGVBQWUsQ0FBQzs7O0FBRzFDLE1BQU0sS0FBTyxlQUFlLEdBQUcsSUFBSSxjQUFjLENBQzdDLDJEQUEyRCxFQUMzRDtJQUNJLE9BQU8sRUFBRTs7WUFDQyxjQUFjLEdBQUcsTUFBTSxDQUFDLFdBQVcsQ0FBQztRQUUxQyxPQUFPLEVBQUUsQ0FBQyxDQUFDLEVBQUUsdUJBQXVCLENBQUMsQ0FBQyxJQUFJLENBQ3RDLE1BQU0sRUFBRSxFQUNSLEdBQUcsQ0FBQyxjQUFNLE9BQUEsY0FBYyxDQUFDLEdBQUcsRUFBRSxFQUFwQixDQUFvQixDQUFDLEVBQy9CLEtBQUssRUFBRSxDQUNWLENBQUM7SUFDTixDQUFDO0NBQ0osQ0FDSiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7aW5qZWN0LCBJbmplY3Rpb25Ub2tlbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7YW5pbWF0aW9uRnJhbWVTY2hlZHVsZXIsIE9ic2VydmFibGUsIG9mfSBmcm9tICdyeGpzJztcclxuaW1wb3J0IHttYXAsIHJlcGVhdCwgc2hhcmV9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcclxuaW1wb3J0IHtQRVJGT1JNQU5DRX0gZnJvbSAnLi9wZXJmb3JtYW5jZSc7XHJcblxyXG4vLyBpbnRlcnZhbCBoYXMgYnVnOiBodHRwczovL2dpdGh1Yi5jb20vUmVhY3RpdmVYL3J4anMvaXNzdWVzLzQ5NzIsIHNjaGVkdWxlZCBvbmx5IHByZXNlbnQgaW4gcnhqcyA2LjUrXHJcbmV4cG9ydCBjb25zdCBBTklNQVRJT05fRlJBTUUgPSBuZXcgSW5qZWN0aW9uVG9rZW48T2JzZXJ2YWJsZTxET01IaWdoUmVzVGltZVN0YW1wPj4oXHJcbiAgICAnU2hhcmVkIE9ic2VydmFibGUgYmFzZWQgb24gYHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWVgJyxcclxuICAgIHtcclxuICAgICAgICBmYWN0b3J5OiAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBlcmZvcm1hbmNlUmVmID0gaW5qZWN0KFBFUkZPUk1BTkNFKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBvZigwLCBhbmltYXRpb25GcmFtZVNjaGVkdWxlcikucGlwZShcclxuICAgICAgICAgICAgICAgIHJlcGVhdCgpLFxyXG4gICAgICAgICAgICAgICAgbWFwKCgpID0+IHBlcmZvcm1hbmNlUmVmLm5vdygpKSxcclxuICAgICAgICAgICAgICAgIHNoYXJlKCksXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSxcclxuICAgIH0sXHJcbik7XHJcbiJdfQ==